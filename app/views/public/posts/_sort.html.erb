<select id="sort_dropdown" onchange="sortPosts()">
  <option value="newest" <%= 'selected' if params[:sort] == 'newest' %>>新着順</option>
  <option value="oldest" <%= 'selected' if params[:sort] == 'oldest' %>>古い順</option>
  <option value="highest_rated" <%= 'selected' if params[:sort] == 'highest_rated' %>>評価の高い順</option>
  <option value="most_liked" <%= 'selected' if params[:sort] == 'most_liked' %>>いいねの多い順</option>
  <option value="most_commented" <%= 'selected' if params[:sort] == 'most_commented' %>>コメントの多い順</option>
</select>

<script>
  function sortPosts() {
    var sortValue = document.getElementById('sort_dropdown').value;
    var url = new URL(window.location.href);
    url.searchParams.set('sort', sortValue);
    window.location.href = url.toString();
  }
</script>